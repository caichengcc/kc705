<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>logiCVC driver: SwConfig_cvcdemo.c File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logiCVC.gif"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">logiCVC driver
   &#160;<span id="projectnumber">3_04_a</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_sw_config__cvcdemo_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SwConfig_cvcdemo.c File Reference</div>  </div>
</div>
<div class="contents">

<p>This file contains software configuration implementation without heap memory, which is practical in environments with low memory. It is used for redirection of common system operations, namely:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &quot;Oslib.h&quot;</code><br/>
<code>#include &quot;xparameters.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SwConfig_cvcdemo.c:</div>
<div class="dyncontent">
<div class="center"><img src="_sw_config__cvcdemo_8c__incl.png" border="0" usemap="#_sw_config__cvcdemo_8c" alt=""/></div>
<map name="_sw_config__cvcdemo_8c" id="_sw_config__cvcdemo_8c">
</map>
</div>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#afe884b1347f3d7b9a9c113857d3b622c">SYSTEM_TIMER</a>&#160;&#160;&#160;0</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a56d2b0c28a6409c236a519be8e5c81c8">swConfig_initTimerSubsystem</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OsSizeT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a7e6db22ac000c3e72847991f2797f491">swConfig_getTicksInMs</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a03d2d33376da7c963241ca880fa752e4">swConfig_startTimer</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a908984bc0c53eb420f35f14d88cd9278">swConfig_stopTimer</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OsSizeT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a24280f9f90c36b20d1e4e0db44ad53c3">swConfig_getTickCount</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a0b5f4a2de3260cf2574a329f9bd60e91">swConfig_sleep</a> (OsSizeT ms)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OsSizeT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#aca1bfbe6dfe6f9ce54f49abdcfae1c6d">swConfig_getElapsedMs</a> (OsSizeT ms)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a6897f603d687618623b04a76e075a3e0">swConfig_malloc</a> (OsSizeT size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#ae72d70d95000a3a9a87dbca10b97aa2a">swConfig_free</a> (void *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">OsSpinLockT *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#a11b9cbbc7a3f1198180b0b6f93d3bbce">swConfig_spinLockConstruct</a> (OsObjectHandleT hParent)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#ae9d0003019cf572361196ab5732a9525">swConfig_spinLockDestruct</a> (OsSpinLockT *pLock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#aed41b1e9622f1bf9f21819d7fb22b8bd">swConfig_spinLockAcquire</a> (OsSpinLockT *pLock)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sw_config__cvcdemo_8c.html#adc1689baeeb9a1280d75aadd9254bb39">swConfig_spinLockRelease</a> (OsSpinLockT *pLock)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This file contains software configuration implementation without heap memory, which is practical in environments with low memory. It is used for redirection of common system operations, namely: </p>
<ul>
<li>timers: redirected to plfTimer</li>
<li>memory: simple heap only for static allocations (no freeing)</li>
<li>thread locks: empty implementation Any usage of above operations in other libraries, drivers and application software should be redirected to this implementation.<br/>
 You should pick one of swconfig implementation templates for your application, and if neither of templates fits your needs, you should take the best match, move it to swconfig folder, rename it and modify.</li>
</ul>
<pre>
 MODIFICATION HISTORY:</pre><pre> Ver   Who  Date     Changes
 ------ ---- -------- -------------------------------------------------------
 1.00.a AF   27/01/11 First release
 1.01.a DJ   10/10/11 Added system timer definition and new functions for
             time management.
 </pre> </div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="afe884b1347f3d7b9a9c113857d3b622c"></a><!-- doxytag: member="SwConfig_cvcdemo.c::SYSTEM_TIMER" ref="afe884b1347f3d7b9a9c113857d3b622c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYSTEM_TIMER&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>System timer ID specifically designates HW timer instance which is used for time management functionality (time measure, time delay). </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae72d70d95000a3a9a87dbca10b97aa2a"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_free" ref="ae72d70d95000a3a9a87dbca10b97aa2a" args="(void *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Frees a memory buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>is a memory pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="aca1bfbe6dfe6f9ce54f49abdcfae1c6d"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_getElapsedMs" ref="aca1bfbe6dfe6f9ce54f49abdcfae1c6d" args="(OsSizeT ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OsSizeT swConfig_getElapsedMs </td>
          <td>(</td>
          <td class="paramtype">OsSizeT&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns number of milliseconds elapsed from previous reading.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>contains previous reading.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Elapsed time in milliseconds.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If parameter 0 is provided, returns absolute time from startup. </dd></dl>

</div>
</div>
<a class="anchor" id="a24280f9f90c36b20d1e4e0db44ad53c3"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_getTickCount" ref="a24280f9f90c36b20d1e4e0db44ad53c3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OsSizeT swConfig_getTickCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns current system timer tick count.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Current system timer tick count.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a7e6db22ac000c3e72847991f2797f491"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_getTicksInMs" ref="a7e6db22ac000c3e72847991f2797f491" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OsSizeT swConfig_getTicksInMs </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns number of system timer ticks per millisecond.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of ticks per millisecond.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a56d2b0c28a6409c236a519be8e5c81c8"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_initTimerSubsystem" ref="a56d2b0c28a6409c236a519be8e5c81c8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_initTimerSubsystem </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize timer subsystem.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a6897f603d687618623b04a76e075a3e0"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_malloc" ref="a6897f603d687618623b04a76e075a3e0" args="(OsSizeT size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* swConfig_malloc </td>
          <td>(</td>
          <td class="paramtype">OsSizeT&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Allocates a memory buffer.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>is the number of bytes to allocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A memory buffer pointer on success or NULL on failure.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a0b5f4a2de3260cf2574a329f9bd60e91"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_sleep" ref="a0b5f4a2de3260cf2574a329f9bd60e91" args="(OsSizeT ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_sleep </td>
          <td>(</td>
          <td class="paramtype">OsSizeT&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs a system time delay in miliseconds.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ms</td><td>contains the delay value in miliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="aed41b1e9622f1bf9f21819d7fb22b8bd"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_spinLockAcquire" ref="aed41b1e9622f1bf9f21819d7fb22b8bd" args="(OsSpinLockT *pLock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_spinLockAcquire </td>
          <td>(</td>
          <td class="paramtype">OsSpinLockT *&#160;</td>
          <td class="paramname"><em>pLock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Acquires a spin lock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pLock</td><td>is a spin lock pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Each call must be paired with with a call to OsSpinLockRelease. </dd></dl>

</div>
</div>
<a class="anchor" id="a11b9cbbc7a3f1198180b0b6f93d3bbce"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_spinLockConstruct" ref="a11b9cbbc7a3f1198180b0b6f93d3bbce" args="(OsObjectHandleT hParent)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OsSpinLockT* swConfig_spinLockConstruct </td>
          <td>(</td>
          <td class="paramtype">OsObjectHandleT&#160;</td>
          <td class="paramname"><em>hParent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a spin lock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">hParent</td><td>is a spin lock parent object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to a newly created spin lock; NULL in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9d0003019cf572361196ab5732a9525"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_spinLockDestruct" ref="ae9d0003019cf572361196ab5732a9525" args="(OsSpinLockT *pLock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_spinLockDestruct </td>
          <td>(</td>
          <td class="paramtype">OsSpinLockT *&#160;</td>
          <td class="paramname"><em>pLock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroys a spin lock object.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pLock</td><td>is a spin lock pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="adc1689baeeb9a1280d75aadd9254bb39"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_spinLockRelease" ref="adc1689baeeb9a1280d75aadd9254bb39" args="(OsSpinLockT *pLock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_spinLockRelease </td>
          <td>(</td>
          <td class="paramtype">OsSpinLockT *&#160;</td>
          <td class="paramname"><em>pLock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Releases a spinlock.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pLock</td><td>is a spinlock handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Each call must be paired with with a call to OsSpinLockAcquire. </dd></dl>

</div>
</div>
<a class="anchor" id="a03d2d33376da7c963241ca880fa752e4"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_startTimer" ref="a03d2d33376da7c963241ca880fa752e4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_startTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts system timer.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
<a class="anchor" id="a908984bc0c53eb420f35f14d88cd9278"></a><!-- doxytag: member="SwConfig_cvcdemo.c::swConfig_stopTimer" ref="a908984bc0c53eb420f35f14d88cd9278" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swConfig_stopTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stops system timer.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="note"><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="_sw_config__cvcdemo_8c.html">SwConfig_cvcdemo.c</a>      </li>

    <li class="footer">Generated on Thu Oct 11 2012 16:01:08 for logiCVC driver by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.5.1 </li>
   </ul>
 </div>


</body>
</html>
